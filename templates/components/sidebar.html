<aside
    class="flex flex-col w-64 h-screen bg-background-light dark:bg-background-dark border-r border-gray-200 dark:border-gray-800 fixed left-0 top-0 z-40 overflow-y-auto font-display">
    <!-- Logo Area -->
    <div class="p-6 flex items-center gap-3">
        <div
            class="w-10 h-10 rounded-xl bg-primary text-white flex items-center justify-center font-heading text-lg font-bold shadow-lg shadow-primary/25">
            SC</div>
        <div>
            <h1 class="font-heading font-semibold text-lg text-gray-900 dark:text-white">Secure Chat</h1>
            <p class="text-xs text-gray-500">v2.0 Encrypted</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="flex-1 px-4 space-y-1">

        <div class="px-2 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">Menu</div>

        <!-- Chats -->
        <a href="{{ url_for('chat_list') }}"
            class="flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all group {% if request.endpoint == 'chat_list' or request.endpoint == 'chat' %}bg-white dark:bg-gray-800 text-primary shadow-sm{% else %}text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white{% endif %}">
            <span class="material-symbols-outlined text-[20px]">chat_bubble</span>
            <span class="font-medium">Chats</span>
            <span class="ml-auto bg-primary/10 text-primary text-xs font-bold px-2 py-0.5 rounded-full">All</span>
        </a>

        <!-- Contacts -->
        <a href="{{ url_for('chat_list') }}" class="flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all group text-gray-600 dark:text-gray-400
            hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white">
            <span class="material-symbols-outlined text-[20px]">group</span>
            <span class="font-medium">Contacts</span>
        </a>

        <!-- Reels (Placeholder) -->
        <a href="#"
            class="flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all group text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white opacity-50 cursor-not-allowed"
            title="Coming Soon">
            <span class="material-symbols-outlined text-[20px]">movie</span>
            <span class="font-medium">Reels</span>
        </a>

        <!-- Store (Placeholder) -->
        <a href="#"
            class="flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all group text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white opacity-50 cursor-not-allowed"
            title="Coming Soon">
            <span class="material-symbols-outlined text-[20px]">shopping_bag</span>
            <span class="font-medium">Store</span>
        </a>

        <!-- Stories -->
        <a href="{{ url_for('stories') }}"
            class="flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all group {% if request.endpoint == 'stories' %}bg-white dark:bg-gray-800 text-primary shadow-sm{% else %}text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white{% endif %}">
            <span class="material-symbols-outlined text-[20px]">amp_stories</span>
            <span class="font-medium">Stories</span>
            {% if active_stories_count %}
            <span class="ml-auto w-2 h-2 bg-pink-500 rounded-full"></span>
            {% endif %}
        </a>

        <div class="mt-6 px-2 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">Tools</div>

        <!-- Hacker Dashboard -->
        <a href="{{ url_for('hacker_dashboard') }}"
            class="flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all group {% if request.endpoint == 'hacker_dashboard' %}bg-white dark:bg-gray-800 text-primary shadow-sm{% else %}text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white{% endif %}">
            <span class="material-symbols-outlined text-[20px]">terminal</span>
            <span class="font-medium">Hacker Dashboard</span>
        </a>

        <!-- Steganography -->
        <a href="{{ url_for('steganography') }}"
            class="flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all group {% if request.endpoint == 'steganography' %}bg-white dark:bg-gray-800 text-primary shadow-sm{% else %}text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white{% endif %}">
            <span class="material-symbols-outlined text-[20px]">image</span>
            <span class="font-medium">Steganography</span>
        </a>

        <!-- Brute Force Lab -->
        <a href="{{ url_for('brute_force_home') }}"
            class="flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all group {% if 'brute_force' in request.endpoint %}bg-white dark:bg-gray-800 text-primary shadow-sm{% else %}text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white{% endif %}">
            <span class="material-symbols-outlined text-[20px]">lock_open</span>
            <span class="font-medium">Brute Force Lab</span>
        </a>

    </nav>

    <!-- User Profile (Bottom) -->
    <div class="p-4 border-t border-gray-200 dark:border-gray-800">
        <a href="{{ url_for('profile') }}"
            class="flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-gray-800 p-2 rounded-xl transition-colors">
            {% if current_user.profile_picture %}
            <img src="{{ url_for('static', filename='uploads/' + current_user.profile_picture) }}" alt="Profile"
                class="w-10 h-10 rounded-full object-cover">
            {% else %}
            <div
                class="w-10 h-10 rounded-full bg-primary/10 text-primary flex items-center justify-center font-heading font-bold uppercase">
                {{ current_user.username[:2] }}
            </div>
            {% endif %}
            <div class="flex-1 min-w-0">
                <p class="text-sm font-semibold text-gray-900 dark:text-white truncate">{{ current_user.username }}</p>
                <p class="text-xs text-green-500">Online</p>
            </div>
            <span class="material-symbols-outlined text-gray-400">settings</span>
        </a>
    </div>
</aside>